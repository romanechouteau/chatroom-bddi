<template>
  <div class="buildings" >
    <Building
      v-for="(building, i) in this.buildings"
      :building="building"
      :usersPosition.sync="usersPosition"
      :key="i">
    </Building>

    <BuildingsMessages :messages="this.messages"/>
  </div>
</template>

<style lang="scss">
@import "../assets/variables.scss";
.buildings {
  position: absolute;
  width: 100vw;
  height: 100vh;
  top: 0;
  left: 0;

  .cls-1{fill:#465f77;}
  .cls-2{fill:#647d9b;}
  .cls-3{fill:#333;}

  #bat1 {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 80%;
  }

  #bat2 {
    position: absolute;
    bottom: 0;
    left: 15%;
    height: 43%;
  }

  #bat3 {
    position: absolute;
    bottom: 0;
    left: 20%;
    height: 90%;
  }

  #bat4 {
    position: absolute;
    bottom: 0;
    left: 33%;
    height: 55%;
  }

  #bat5 {
    position: absolute;
    bottom: 0;
    left: 50%;
    height: 95%;
    transform: translateX(-45%);
  }

  #bat6 {
    position: absolute;
    bottom: 0;
    right: 35%;
    height: 50%;
  }

  #bat7 {
    position: absolute;
    bottom: 0;
    right: 30%;
    height: 35%;
  }

  #bat8 {
    position: absolute;
    bottom: 0;
    right: 15%;
    height: 75%;
  }

  #bat9 {
    position: absolute;
    bottom: 0;
    right: 0%;
    height: 45%;
  }
}

.buildingsMessages {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>

<script>
import Building from '../components/Building.vue'
import BuildingsMessages from '../components/BuildingsMessages.vue'

export default {
  data () {
    return {
      buildings: [
        {
          code: '<path class="cls-1" d="M76.25,0C51.18,0,33.11,18.07,33.11,33.23V316.38h4.08L38.35,33.81Z"/><path class="cls-2" d="M76.25,0A39.05,39.05,0,0,1,115.3,39.06V316.38H37.19V39.06A39.06,39.06,0,0,1,76.25,0Z"/><path class="cls-1" d="M37.21,20.11c-.15.25-.59,1-.91,1.55-15-1.65-24.56-2.39-24.64-1.79-.14,1.06,29.75,5.94,66.77,10.9s67.14,8.12,67.28,7.05c.1-.68-12.3-3-31.05-5.81-.11-.63-.28-1.53-.37-1.86,26.62,4.32,44.86,8.38,44.61,10.22-.34,2.55-36.19-.14-80.07-6S-.34,21.64,0,19.09C.22,17.45,15,18,37.21,20.11Z"/><path class="cls-1" d="M37.21,182.23c-.15.25-.59,1-.91,1.55-15-1.65-24.56-2.39-24.64-1.79-.14,1.06,29.75,5.94,66.77,10.9s67.14,8.11,67.28,7.05c.1-.68-12.3-3-31.05-5.81-.11-.63-.28-1.53-.37-1.86,26.62,4.32,44.86,8.38,44.61,10.22-.34,2.55-36.19-.14-80.07-6S-.34,183.76,0,181.21C.22,179.57,15,180.09,37.21,182.23Z"/>',
          viewBox: '0 0 158.9 316.38',
          id: 'bat2',
          windows: [
            {
              id: '9',
              x: '69.23',
              y: '50.34',
              transform: 'translate(165.46 138.52) rotate(-180)'
            },
            {
              id: '10',
              x: '69.23',
              y: '102.19',
              transform: 'translate(165.46 242.22) rotate(-180)'
            },
            {
              id: '11',
              x: '69.23',
              y: '154.04',
              transform: 'transform="translate(165.46 345.92) rotate(-180)'
            },
            {
              id: '12',
              x: '69.23',
              y: '205.89',
              transform: 'translate(165.46 449.62) rotate(-180)'
            },
            {
              id: '13',
              x: '69.23',
              y: '257.74',
              transform: 'translate(165.46 553.32) rotate(-180)'
            }
          ],
          width: '26.99',
          height: '37.84',
          rx: '12.69'
        },
        {
          code: '<path class="cls-1" d="M99.54,0C66.81,0,43.22,23.59,43.22,43.38V641.23h5.33L50.07,44.14Z"/><path class="cls-2" d="M100.22,0c28,.37,50.31,23.73,50.31,51.75V641.23h-102V51A51,51,0,0,1,100.22,0Z"/><path class="cls-1" d="M48.58,26.25c-.2.34-.77,1.28-1.19,2-19.54-2.15-32.06-3.11-32.17-2.33C15,27.33,54.06,33.7,102.39,40.17s87.66,10.6,87.84,9.21c.12-.9-16.07-3.86-40.54-7.59-.15-.83-.37-2-.48-2.43,34.75,5.65,58.56,11,58.24,13.35C207,56,160.2,52.52,102.92,44.85S-.44,28.26,0,24.92C.29,22.79,19.64,23.47,48.58,26.25Z"/>',
          viewBox: '0 0 207.45 641.23',
          id: 'bat1',
          windows: [
            {
              id: '0',
              x: '90.38',
              y: '65.72',
              transform: 'translate(216.01 180.84) rotate(180)'
            },
            {
              id: '1',
              x: '90.38',
              y: '129.13',
              transform: 'translate(216.01 307.66) rotate(-180)'
            },
            {
              id: '2',
              x: '90.38',
              y: '192.54',
              transform: 'translate(216.01 434.48) rotate(180)'
            },
            {
              id: '3',
              x: '90.38',
              y: '255.95',
              transform: 'translate(216.01 561.3) rotate(180)'
            },
            {
              id: '4',
              x: '90.38',
              y: '319.365',
              transform: 'translate(216.01 688.13) rotate(180)'
            },
            {
              id: '5',
              x: '90.38',
              y: '382.77',
              transform: 'translate(216.01 814.95) rotate(-180)'
            },
            {
              id: '6',
              x: '90.38',
              y: '446.18',
              transform: 'translate(216.01 941.77) rotate(180)'
            },
            {
              id: '7',
              x: '90.38',
              y: '509.6',
              transform: 'translate(216.01 1068.6) rotate(180)'
            },
            {
              id: '8',
              x: '90.38',
              y: '573.01',
              transform: 'translate(216.01 1195.42) rotate(180)'
            }
          ],
          width: '35.24',
          height: '49.4',
          rx: '15.5'
        },
        {
          code: '<path class="cls-2" d="M134.24,116.7A132.16,132.16,0,0,0,2.08,248.87H266.41A132.16,132.16,0,0,0,134.24,116.7Z"/><rect class="cls-3" x="127.41" y="248.87" width="6.84" height="460.03"/><rect class="cls-2" x="131.28" y="18.43" width="5.93" height="26.87"/><path class="cls-1" d="M134.24,116.7c-63.69,0-130.88,47.93-132.16,132.17H15.47C10.63,218.78,35.41,130.7,134.24,116.7Z"/><path class="cls-2" d="M134.24,40.42A101.66,101.66,0,0,1,235.9,142.08H32.58A101.67,101.67,0,0,1,134.24,40.42Z"/><path class="cls-1" d="M134.24,40.42c49,0,100.68,36.87,101.66,101.66H225.6C229.32,118.94,210.26,51.19,134.24,40.42Z"/><path class="cls-1" d="M135.45,7.6C61.31-.64.67-2.46,0,3.52S58.9,21,133,29.26s134.78,10.06,135.44,4.08S209.58,15.83,135.45,7.6Zm-8.14,10.06c-41.57-4.62-75.09-10-74.87-12s34.1.13,75.67,4.75,75.1,10,74.88,12S168.89,22.28,127.31,17.66Z"/>',
          viewBox: '0 0 268.49 708.89',
          id: 'bat3',
          windows: [
            {
              id: '14',
              x: '57.53',
              y: '84.22',
              transform: ''
            },
            {
              id: '15',
              x: '106.78',
              y: '84.22',
              transform: ''
            },
            {
              id: '16',
              x: '156.02',
              y: '84.22',
              transform: ''
            },
            {
              id: '17',
              x: '31.5',
              y: '182.78',
              transform: 'translate(98.23 414.97) rotate(-180)'
            },
            {
              id: '18',
              x: '80.74',
              y: '182.78',
              transform: 'translate(196.72 414.97) rotate(180)'
            },
            {
              id: '19',
              x: '129.99',
              y: '182.78',
              transform: 'translate(295.21 414.97) rotate(180)'
            },
            {
              id: '20',
              x: '179.23',
              y: '182.78',
              transform: 'translate(393.69 414.97) rotate(180)'
            }
          ],
          width: '35.24',
          height: '49.4',
          rx: '15.5'
        },
        {
          code: '<path class="cls-1" d="M107.91,0c32.73,0,56.32,23.59,56.32,43.38V436.53H158.9L157.38,44.14Z"/><path class="cls-2" d="M107.91,0a51,51,0,0,0-51,51V436.53h102V51A51,51,0,0,0,107.91,0Z"/><path class="cls-1" d="M158.87,26.25c.2.34.77,1.28,1.19,2,19.54-2.15,32.06-3.11,32.17-2.33.18,1.39-38.84,7.76-87.17,14.23S17.4,50.77,17.22,49.38c-.12-.9,16.07-3.86,40.54-7.59.15-.83.37-2,.48-2.43C23.49,45-.32,50.31,0,52.71c.45,3.33,47.25-.19,104.53-7.86S207.89,28.26,207.45,24.92C207.16,22.79,187.81,23.47,158.87,26.25Z"/>',
          viewBox: '0 0 207.45 436.53',
          id: 'bat4',
          windows: [
            {
              id: '21',
              x: '81.83',
              y: '65.72',
              transform: ''
            },
            {
              id: '22',
              x: '81.83',
              y: '129.13',
              transform: ''
            },
            {
              id: '23',
              x: '81.83',
              y: '192.54',
              transform: ''
            },
            {
              id: '23',
              x: '81.83',
              y: '255.95',
              transform: ''
            }
          ],
          width: '35.24',
          height: '49.4',
          rx: '15.5'
        },
        {
          code: '<rect class="cls-3" x="98.24" y="100.74" width="6.84" height="279.81"/><path class="cls-2" d="M101.66,0A101.65,101.65,0,0,0,0,101.66H203.32A101.66,101.66,0,0,0,101.66,0Z"/><path class="cls-1" d="M101.66.16C52.67.14,1,37,0,101.81H10.3C6.58,78.68,25.64,10.93,101.66.16Z"/><path class="cls-1" d="M101.66.16c49,0,100.67,36.86,101.66,101.65H193C196.74,78.68,177.68,10.93,101.66.16Z"/>',
          viewBox: '0 0 203.32 380.55',
          id: 'bat6',
          windows: [
            {
              id: '35',
              x: '44.64',
              y: '43.8',
              transform: 'translate(124.53 137.01) rotate(180)'
            },
            {
              id: '36',
              x: '93.89',
              y: '43.8',
              transform: 'translate(223.01 137.01) rotate(180)'
            },
            {
              id: '37',
              x: '143.13',
              y: '43.8',
              transform: 'translate(321.5 137.01) rotate(180)'
            }
          ],
          width: '35.24',
          height: '49.4',
          rx: '15.5'
        },
        {
          code: '<polygon class="cls-2" points="75.3 33.56 34.49 33.56 0 255.15 97.72 255.15 75.3 33.56"/><polygon class="cls-1" points="75.3 33.56 79.17 37 118.23 255.15 97.72 255.15 75.3 33.56"/><rect class="cls-2" x="51.7" y="6.69" width="5.93" height="26.87"/><ellipse class="cls-2" cx="54.66" cy="17.29" rx="16.82" ry="5.38"/><ellipse class="cls-1" cx="54.66" cy="14.1" rx="16.82" ry="5.38"/><ellipse class="cls-2" cx="54.66" cy="10.91" rx="16.82" ry="5.38"/><ellipse class="cls-1" cx="54.66" cy="7.72" rx="16.82" ry="5.38"/><circle class="cls-2" cx="54.66" cy="3.86" r="3.86"/>',
          viewBox: '0 0 118.24 255.15',
          id: 'bat7',
          windows: [
            {
              id: '38',
              x: '39.26',
              y: '50.99',
              transform: ''
            },
            {
              id: '39',
              x: '39.26',
              y: '108.53',
              transform: ''
            }
          ],
          width: '31.05',
          height: '43.53',
          rx: '14.6'
        },
        {
          code: '<path class="cls-1" d="M95.08,0c28.84,0,49.62,20.79,49.62,38.22V780.05H140L138.67,38.89Z"/><path class="cls-2" d="M94.31,0C69.68.42,50.15,21,50.15,45.67V780.05H140V44.93A44.93,44.93,0,0,0,94.31,0Z"/><path class="cls-1" d="M140,23.13c.18.29.68,1.13,1.05,1.78,17.22-1.89,28.25-2.74,28.34-2.05.16,1.22-34.22,6.83-76.8,12.54s-77.23,9.33-77.4,8.11c-.1-.79,14.16-3.41,35.72-6.69.13-.73.33-1.76.43-2.14C20.7,39.66-.28,44.32,0,46.44c.4,2.94,41.63-.16,92.1-6.92S183.17,24.9,182.78,22C182.53,20.08,165.48,20.68,140,23.13Z"/>',
          viewBox: '0 0 182.78 780.05',
          id: 'bat5',
          windows: [
            {
              id: '25',
              x: '72.1',
              y: '57.9',
              transform: ''
            },
            {
              id: '26',
              x: '72.1',
              y: '119.91',
              transform: ''
            },
            {
              id: '27',
              x: '72.1',
              y: '181.92',
              transform: ''
            },
            {
              id: '28',
              x: '72.1',
              y: '243.93',
              transform: ''
            },
            {
              id: '29',
              x: '72.1',
              y: '305.93',
              transform: ''
            },
            {
              id: '30',
              x: '72.1',
              y: '367.94',
              transform: ''
            },
            {
              id: '31',
              x: '72.1',
              y: '429.95',
              transform: ''
            },
            {
              id: '32',
              x: '72.1',
              y: '491.96',
              transform: ''
            },
            {
              id: '33',
              x: '72.1',
              y: '553.96',
              transform: ''
            },
            {
              id: '34',
              x: '72.1',
              y: '615.97',
              transform: ''
            }
          ],
          width: '33.46',
          height: '46.91',
          rx: '14.6'
        },
        {
          code: '<path class="cls-1" d="M95.08,148.94c28.84,0,49.62,20.79,49.62,38.23v325.7H140l-1.34-325Z"/><path class="cls-2" d="M95.08,148.94a44.94,44.94,0,0,0-44.93,44.93v319H140v-319A44.94,44.94,0,0,0,95.08,148.94Z"/><path class="cls-1" d="M140,172.08c.18.29.68,1.12,1.05,1.78,17.22-1.9,28.25-2.75,28.34-2.06.16,1.22-34.22,6.84-76.8,12.54s-77.23,9.33-77.4,8.11c-.1-.79,14.16-3.4,35.72-6.69.13-.72.33-1.75.43-2.13C20.7,188.6-.28,193.27,0,195.38c.4,2.94,41.63-.16,92.1-6.92s91.07-14.62,90.68-17.55C182.53,169,165.48,169.62,140,172.08Z"/><rect class="cls-2" x="92.11" y="130.3" width="5.93" height="26.87"/><circle class="cls-2" cx="95.08" cy="80.8" r="49.5"/><rect class="cls-2" x="92.11" y="6.69" width="5.93" height="26.87"/><ellipse class="cls-2" cx="95.08" cy="17.29" rx="16.82" ry="5.38"/><ellipse class="cls-1" cx="95.08" cy="14.1" rx="16.82" ry="5.38"/><ellipse class="cls-2" cx="95.08" cy="10.91" rx="16.82" ry="5.38"/><ellipse class="cls-1" cx="95.08" cy="7.72" rx="16.82" ry="5.38"/><circle class="cls-2" cx="95.08" cy="3.86" r="3.86"/>',
          viewBox: '0 0 182.78 512.87',
          id: 'bat8',
          windows: [
            {
              id: '40',
              x: '64.03',
              y: '56.12',
              transform: ''
            },
            {
              id: '41',
              x: '72.1',
              y: '206.85',
              transform: ''
            },
            {
              id: '42',
              x: '72.1',
              y: '264.38',
              transform: ''
            },
            {
              id: '43',
              x: '72.1',
              y: '321.92',
              transform: ''
            },
            {
              id: '44',
              x: '72.1',
              y: '379.46',
              transform: ''
            },
            {
              id: '45',
              x: '72.1',
              y: '437',
              transform: ''
            }
          ],
          width: '31.05',
          height: '43.53',
          rx: '14.6'
        },
        {
          code: '<path class="cls-1" d="M76.25,0C51.18,0,33.11,18.07,33.11,33.23V316.38h4.08L38.35,33.81Z"/><path class="cls-2" d="M76.25,0A39.05,39.05,0,0,1,115.3,39.06V316.38H37.19V39.06A39.06,39.06,0,0,1,76.25,0Z"/><path class="cls-1" d="M37.21,20.11c-.15.25-.59,1-.91,1.55-15-1.65-24.56-2.39-24.64-1.79-.14,1.06,29.75,5.94,66.77,10.9s67.14,8.12,67.28,7.05c.1-.68-12.3-3-31.05-5.81-.11-.63-.28-1.53-.37-1.86,26.62,4.32,44.86,8.38,44.61,10.22-.34,2.55-36.19-.14-80.07-6S-.34,21.64,0,19.09C.22,17.45,15,18,37.21,20.11Z"/><path class="cls-1" d="M37.21,182.23c-.15.25-.59,1-.91,1.55-15-1.65-24.56-2.39-24.64-1.79-.14,1.06,29.75,5.94,66.77,10.9s67.14,8.11,67.28,7.05c.1-.68-12.3-3-31.05-5.81-.11-.63-.28-1.53-.37-1.86,26.62,4.32,44.86,8.38,44.61,10.22-.34,2.55-36.19-.14-80.07-6S-.34,183.76,0,181.21C.22,179.57,15,180.09,37.21,182.23Z"/>',
          viewBox: '0 0 158.9 316.38',
          id: 'bat9',
          windows: [
            {
              id: '46',
              x: '69.23',
              y: '50.34',
              transform: 'translate(165.46 138.52) rotate(-180)'
            },
            {
              id: '47',
              x: '69.23',
              y: '102.19',
              transform: 'translate(165.46 242.22) rotate(-180)'
            },
            {
              id: '48',
              x: '69.23',
              y: '154.04',
              transform: 'translate(165.46 345.92) rotate(180)'
            },
            {
              id: '49',
              x: '69.23',
              y: '205.89',
              transform: 'translate(165.46 449.62) rotate(-180)'
            },
            {
              id: '50',
              x: '69.23',
              y: '257.74',
              transform: 'translate(165.46 553.32) rotate(180)'
            }

          ],
          width: '26.99',
          height: '37.84',
          rx: '12.69'
        }
      ]
    }
  },
  props: {
    messages: {
      type: Array
    },
    usersPosition: {
      type: Object
    }
  },
  components: {
    Building,
    BuildingsMessages
  }
}
</script>
